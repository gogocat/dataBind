!function e(t,n,i){function r(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=f(e("./config")),l=f(e("./util")),c=f(e("./bindings")),d=e("./domWalker"),u=(i=d)&&i.__esModule?i:{default:i},s=f(e("./pubSub"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=0,g=function(){function e(t,n,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t instanceof jQuery||!t.length||null===n||"object"!==(void 0===n?"undefined":r(n)))throw new TypeError("$rootElement or viewModel is invalid");return this.initRendered=!1,this.compId=h+=1,this.$rootElement=t.eq(0),this.viewModel=n,this.bindingAttrs=i,this.render=l.debounceRaf(this.render,this),this.isServerRendered=void 0!==this.$rootElement.attr(a.serverRenderedAttr),this.viewModel.APP=this,this.parseView(),this}return o(e,[{key:"parseView",value:function(){var e=this;return this.$rootElement.data("$root",this.viewModel),this.elementCache=(0,u.default)(this.$rootElement[0],this.bindingAttrs),this.isServerRendered&&!this.initRendered?(this.updateElementCache({templateCache:!0}),this):(this.elementCache[this.bindingAttrs.tmp]&&this.elementCache[this.bindingAttrs.tmp].length&&(this.elementCache[this.bindingAttrs.tmp].forEach(function(t){c.renderTemplate(t,e.viewModel,e.bindingAttrs,e.elementCache)}),this.updateElementCache({templateCache:!0})),this)}},{key:"updateElementCache",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.allCache&&(this.elementCache=(0,u.default)(this.$rootElement[0],this.bindingAttrs)),(t.allCache||t.templateCache)&&this.elementCache[this.bindingAttrs.tmp]&&this.elementCache[this.bindingAttrs.tmp].length&&this.elementCache[this.bindingAttrs.tmp].forEach(function(t){t.bindingCache=(0,u.default)(t.el,e.bindingAttrs)})}},{key:"render",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={templateBinding:!1,textBinding:!0,cssBinding:!0,showBinding:!0,modelBinding:!0,attrBinding:!0,forOfBinding:!0},r={changeBinding:!0,clickBinding:!0,dblclickBinding:!0,blurBinding:!0,focusBinding:!0,submitBinding:!0},o={};this.initRendered?o=$.extend({},i,n):this.isServerRendered?(this.$rootElement.removeAttr(a.serverRenderedAttr),o=$.extend({},r,{templateBinding:!1,textBinding:!1,cssBinding:!1,showBinding:!1,modelBinding:!1,attrBinding:!1,forOfBinding:!1},n)):o=$.extend({},i,r,n),this.elementCache[this.bindingAttrs.tmp]&&this.elementCache[this.bindingAttrs.tmp].length&&(o.templateBinding&&($.extend(o,r),this.elementCache[this.bindingAttrs.tmp].forEach(function(e){c.renderTemplate(e,t.viewModel,t.bindingAttrs,t.elementCache)}),this.updateElementCache({templateCache:!0})),this.elementCache[this.bindingAttrs.tmp].forEach(function(n){e.applyBinding({elementCache:n.bindingCache,updateOption:o,bindingAttrs:t.bindingAttrs,viewModel:t.viewModel})})),e.applyBinding({elementCache:this.elementCache,updateOption:o,bindingAttrs:this.bindingAttrs,viewModel:this.viewModel}),this.initRendered=!0}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return s.subscribeEvent(this,e,t),this}},{key:"subscribeOnce",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return s.subscribeEventOnce(this,e,t),this}},{key:"unsubscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.unsubscribeEvent(this.compId,e),this}},{key:"unsubscribeAll",value:function(){return s.unsubscribeAllEvent(this.compId),this}},{key:"publish",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return s.publishEvent.apply(s,[e].concat(n)),this}}],[{key:"applyBinding",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.elementCache,n=e.updateOption,i=e.bindingAttrs,r=e.viewModel;(t||n)&&(n.forOfBinding&&t[i.forOf]&&t[i.forOf].length&&t[i.forOf].forEach(function(e){c.forOfBinding(e,r,i)}),n.attrBinding&&t[i.attr]&&t[i.attr].length&&t[i.attr].forEach(function(e){c.attrBinding(e,r,i)}),n.showBinding&&t[i.show]&&t[i.show].length&&t[i.show].forEach(function(e){c.showBinding(e,r,i)}),n.textBinding&&t[i.text]&&t[i.text].length&&t[i.text].forEach(function(e){c.textBinding(e,r,i)}),n.cssBinding&&t[i.css]&&t[i.css].length&&t[i.css].forEach(function(e){c.cssBinding(e,r,i)}),n.modelBinding&&t[i.model]&&t[i.model].length&&t[i.model].forEach(function(e){c.modelBinding(e,r,i)}),n.changeBinding&&t[i.change]&&t[i.change].length&&t[i.change].forEach(function(e){c.changeBinding(e,r,i)}),n.submitBinding&&t[i.submit]&&t[i.submit].length&&t[i.submit].forEach(function(e){c.submitBinding(e,r,i)}),n.clickBinding&&t[i.click]&&t[i.click].length&&t[i.click].forEach(function(e){c.clickBinding(e,r,i)}),n.dblclickBinding&&t[i.dblclick]&&t[i.dblclick].length&&t[i.dblclick].forEach(function(e){c.dblclickBinding(e,r,i)}),n.blurBinding&&t[i.blur]&&t[i.blur].length&&t[i.blur].forEach(function(e){c.blurBinding(e,r,i)}),n.focus&&t[i.focus]&&t[i.focus].length&&t[i.focus].forEach(function(e){c.focusBinding(e,r,i)}))}}]),e}();n.default=g},{"./bindings":2,"./config":3,"./domWalker":4,"./pubSub":6,"./util":7}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forOfBinding=n.attrBinding=n.cssBinding=n.showBinding=n.textBinding=n.submitBinding=n.modelBinding=n.changeBinding=n.focusBinding=n.blurBinding=n.dblclickBinding=n.clickBinding=n.renderTemplate=void 0;var i=o(e("./config")),r=o(e("./util"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var a=null,l=null,c=0,d={},u="dataBind";n.renderTemplate=function e(t,n,o,u){var s,f,h=r.parseStringToJson(t.dataKey),g="$root"===h.data?n:r.getViewModelValue(n,h.data),v=h.append,p=h.prepend,b=void 0,m=void 0,y=void 0;g&&((f=(b=$(t.el)).attr(i.dataIndexAttr))&&(g.$index=f),a=a||$("<div/>"),l=l||b,s=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d[e]?d[e](i):(t=(n=document.getElementById(e))?n.innerHTML:"",d[e]=_.template(t,{variable:"data"}),d[e](i))}(h.id,g),a.children().length?(m=b).append(s):(m=a,a.append(s)),(y=m.find("["+o.tmp+"]")).length&&(c+=y.length,y.each(function(t,i){var r={el:i,dataKey:i.getAttribute(o.tmp)};u[o.tmp].push(r),e(r,n,o,u),c-=1})),0===c&&(v||p||l.empty(),p?l.prepend(a.html()):l.append(a.html()),a=l=null,"function"==typeof n.afterTemplateRender&&n.afterTemplateRender(g)))},n.clickBinding=function(e,t,n){var i=e.dataKey,o=void 0,a=void 0;i&&"function"==typeof(o=r.getViewModelValue(t,i))&&(a=$(e.el)).off("click.databind").on("click.databind",function(e){o.call(t,e,a)})},n.dblclickBinding=function(e,t,n){var i=e.dataKey,o=void 0,a=void 0;i&&"function"==typeof(o=r.getViewModelValue(t,i))&&(a=$(e.el)).off("dblclick.databind").on("dblclick.databind",function(e){o.call(t,e,a)})},n.blurBinding=function(e,t,n){var i=e.dataKey,o=void 0,a=void 0;i&&"function"==typeof(o=r.getViewModelValue(t,i))&&(a=$(e.el)).off("blur.databind").on("blur.databind",function(e){o.call(t,e,a)})},n.focusBinding=function(e,t,n){var i=e.dataKey,o=void 0,a=void 0;i&&"function"==typeof(o=r.getViewModelValue(t,i))&&(a=$(e.el)).off("focus.databind").on("focus.databind",function(e){o.call(t,e,a)})},n.changeBinding=function(e,t,n){var i=e.dataKey,o=e.el.getAttribute(n.model),a=void 0,l=void 0,c=void 0,d=void 0,u=void 0;i&&(a=r.getViewModelValue(t,i),u=$(e.el),"function"==typeof a&&(l=u.is(":checkbox"),u.off("change.databind").on("change.databind",function(e){c=l?u.prop("checked"):_.escape(u.val()),o&&(d=r.getViewModelValue(t,o),r.setViewModelValue(t,o,c)),a.call(t,e,u,c,d),d=c})))},n.modelBinding=function(e,t,n){var i,o=e.dataKey;if(o&&null!=(i=r.getViewModelValue(t,o))){var a=$(e.el),l=a.is(":checkbox"),c=a.is(":radio"),d=a[0].name,u=c?$('input[name="'+d+'"]'):null;i!==(l?a.prop("checked"):a.val())&&(l?a.prop("checked",Boolean(i)):c?u.val([i]):a.val(i))}},n.submitBinding=function(e,t,n){var i=e.dataKey,o=void 0,a=void 0;i&&(o=r.getViewModelValue(t,i),a=$(e.el),"function"==typeof o&&a.off("submit.databind").on("submit.databind",function(e){o.call(t,e,a,r.getFormData(a))}))},n.textBinding=function(e,t,n){var i=e.dataKey;if(i){var o=r.getViewModelValue(t,i),a=e.el.textContent;null!=o&&o!==a&&(e.el.textContent=o)}},n.showBinding=function(e,t,n){var i=e.dataKey;if(i){var o=$(e.el),a=o.data(u)||{},l=a.showStatus,c="!"===i.charAt(0),d=void 0;if(i=c?i.substring(1):i,null!=(d=r.getViewModelValue(t,i))){if("function"==typeof d&&(d=d.call(t,l,o)),l===(d=Boolean(d)))return;a.showStatus=d,o.data(u,a),c&&(d=!d),d?o.show():o.hide()}}},n.cssBinding=function(e,t,n){var i=e.dataKey;if(i){var o,a=$(e.el),l=a.data(u)||{},c=l.cssList||"",d="",s=r.getViewModelValue(t,i),f=void 0,h=!1,g=!1,v=[];if("function"==typeof s&&(s=s.call(t,c,a)),r.isPlainObject(s))h=!0;else{if("string"!=typeof s)return;g=!0}h?d=JSON.stringify(s):f=(d=s.replace(/\s\s+/g," ").trim()).split(" "),c!==d&&(o=e.el.classList,$.each(o,function(e,t){v.push(t)}),h?$.each(s,function(e,t){var n=v.indexOf(e);!0===t?v.push(e):-1!==n&&v.splice(n,1)}):g&&(v=(v=r.arrayRemoveMatch(v,c)).concat(f)),v=_.uniq(v).join(" "),a.attr("class",v),l.cssList=d,a.data(u,l))}},n.attrBinding=function(e,t,n){var i=e.dataKey;if(i){var o=$(e.el),a=o.data(u)||{},l=a.attrObj||{},c=r.getViewModelValue(t,i);if("function"==typeof c&&(c=c.call(t,l,o)),r.isPlainObject(c)&&!r.isEmptyObject(c)&&JSON.stringify(l)!==JSON.stringify(c)){if(r.isEmptyObject(l))for(var d in c)c.hasOwnProperty(d)&&e.el.setAttribute(d,c[d]);else{for(var s in l)l.hasOwnProperty(s)&&void 0===c[s]&&e.el.removeAttribute(s);for(var f in c)c.hasOwnProperty(f)&&l[f]!==c[f]&&e.el.setAttribute(f,c[f])}a.attrObj=c,o.data(u,a)}}},n.forOfBinding=function(e,t,n){var i=e.dataKey;if(i){var o=i.match(r.REGEX.FOROF),a={};if(o&&(a.alias=o[1].trim(),o[2])){var l=o[2].trim();a.dataKey=l,a.data=r.getViewModelValue(t,l)}console.log(a)}}},{"./config":3,"./util":7}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.bindingAttrs={comp:"data-jq-comp",tmp:"data-jq-tmp",text:"data-jq-text",click:"data-jq-click",dblclick:"data-jq-dblclick",blur:"data-jq-blur",focus:"data-jq-focus",change:"data-jq-change",submit:"data-jq-submit",model:"data-jq-model",show:"data-jq-show",css:"data-jq-css",attr:"data-jq-attr",forOf:"data-jq-for"},n.dataIndexAttr="data-index",n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/\{\{=(.+?)\}\}/g,escape:/\{\{(.+?)\}\}/g},n.serverRenderedAttr="data-server-rendered"},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./util"));var r=void 0;n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],o={};if(!e instanceof window.Node)throw new TypeError("walkDOM: Expected a DOM node");r=r||i.invertObj(t);var a="function"==typeof n?n:function(e){return"SVG"===e.tagName||e.getAttribute(t.comp)},l=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,l=void 0,c=void 0,d=void 0;if(1===e.nodeType&&e.hasAttributes()){if(i(e))return!1;t=e,n={},Array.prototype.slice.call(t.attributes).forEach(function(e){n[e.name]=e.value}),l=n,Object.keys(l).forEach(function(t){r[t]&&l[t]&&(o[t]=o[t]||[],c=l[t].trim(),d={el:e,dataKey:c},o[t].push(d))})}return!0};return l(e,function(e){return"SVG"===e.tagName})&&function e(t,n){for(t=t.firstElementChild;t;)n(t)&&e(t,n),t=t.nextElementSibling}(e,l),o}},{"./util":7}],5:[function(e,t,n){"use strict";var i,r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./config")),o=e("./binder"),a=(i=o)&&i.__esModule?i:{default:i};var l=r.bindingAttrs,c=r.templateSettings;window.dataBind={use:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.bindingAttrs&&(l=$.extend({},e.bindingAttrs)),e.templateSettings&&(c=$.extend({},e.templateSettings))},init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _.templateSettings=c,new a.default(e,t,l)}}},{"./binder":1,"./config":3}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.publishEvent=n.unsubscribeAllEvent=n.unsubscribeEvent=n.subscribeEventOnce=n.subscribeEvent=void 0;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./util"));var r={},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&e.compId&&t&&"function"==typeof n){var a=void 0;t=t.replace(i.REGEX.WHITESPACES,""),r[t]=r[t]||[],r[t].some(function(t){if(t[e.compId])return t[e.compId]=n.bind(e.viewModel),t.isOnce=o,!0})||((a={})[e.compId]=n.bind(e.viewModel),a.isOnce=o,r[t].push(a))}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&t){var n=0,o=0;if(t=t.replace(i.REGEX.WHITESPACES,""),r[t])for(o=r[t].length,n=0;n<o;n+=1)if(r[t][n][e]){r[t].splice(n,1);break}r[t].length||delete r[t]}};n.subscribeEvent=o,n.subscribeEventOnce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];o(e,t,n,!0)},n.unsubscribeEvent=a,n.unsubscribeAllEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e&&Object.keys(r).forEach(function(t){a(e,t)})},n.publishEvent=function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o&&r[o]&&(o=o.replace(i.REGEX.WHITESPACES,""),r[o].forEach(function(e){Object.keys(e).forEach(function(n){if("function"==typeof e[n]){var i=e[n].apply(e,t);return e.isOnce&&a(n,o),i}})}))}},{"./util":7}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};_=window._||{};var r=Array.isArray,o={FUNCTIONPARAM:/\((.*?)\)/,WHITESPACES:/\s+/g,FOROF:/(.*?)\s+(?:in|of)\s+(.*)/},a=function(e){return r?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},l=function(e){return null!==e&&"object"===(void 0===e?"undefined":i(e))&&"[object Object]"===Object.prototype.toString.call(e)},c=function(e){return null!==(t=e)&&"object"===(void 0===t?"undefined":i(t))&&!a(e);var t};n.REGEX=o,n.isArray=a,n.isPlainObject=function(e){var t,n=void 0;return!!l(e)&&"function"==typeof(t=e.constructor)&&(n=t.prototype,!1!==l(n)&&!1!==n.hasOwnProperty("isPrototypeOf"))},n.isEmptyObject=function(e){return!!l(e)&&0===Object.getOwnPropertyNames(e).length},n.extend=function e(){for(var t=arguments.length,n=Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments[1];if(!n.length)return o;var a=n.shift();return void 0===a?o:r?(c(o)&&c(a)&&Object.keys(a).forEach(function(t){c(a[t])?(o[t]||(o[t]={}),e(o[t],a[t])):o[t]=a[t]}),e.apply(void 0,[!0,o].concat(n))):Object.assign.apply(Object,[o].concat(n))},n.generateElementCache=function(e){var t={};return $.each(e,function(e,n){t[n]=[]}),t},n.getViewModelValue=function(e,t){return _.get(e,t)},n.setViewModelValue=function(e,t,n){return _.set(e,t,n)},n.parseStringToJson=function(e){var t=e.replace(/(\s*?{\s*?|\s*?,\s*?)(['"])?([a-zA-Z0-9]+)(['"])?:/g,'$1"$3":').replace(/'/g,'"');return JSON.parse(t)},n.debounceRaf=function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=e,n=o,i=$.Deferred(),r=0,function(){var e,o=arguments;return e=Array.from?Array.from(arguments):Array.prototype.slice.call(arguments),window.cancelAnimationFrame(r),r=window.requestAnimationFrame(function(){$.when(t.apply(n,e)).then(i.resolve.apply(n,o),i.reject.apply(n,o),i.notify.apply(n,o)),i=$.Deferred()}),i.promise()}},n.arrayRemoveMatch=function(e,t){return e.filter(function(e,n){return t.indexOf(e)<0})},n.getFormData=function(e){var t=e.serializeArray(),n={};return t.map(function(e){n[e.name]=e.value}),n},n.getFunctionParameterList=function(e){var t=e.match(o.FUNCTIONPARAM);return t&&t[1]&&(t=t[1].split(",")).forEach(function(e,n){t[n]=e.trim()}),t},n.invertObj=function(e){return Object.keys(e).reduce(function(t,n){return t[e[n]]=n,t},{})},n.getNodeAttrObj=function(e,t){var n,i=void 0,r=void 0;if(!e||1!==e.nodeType||!e.hasAttributes())return i;if(t&&(r=[],r="string"==typeof t?r.push(t):t),i={},n=e.attributes.length)for(var o=0;o<n;o+=1){var l=e.attributes.item(o);i[l.nodeName]=l.nodeValue}return a(r)&&r.forEach(function(e){i[e]&&delete i[e]}),i}},{}]},{},[5]);