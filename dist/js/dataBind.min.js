!function(){"use strict";var d={comp:"data-jq-comp",tmp:"data-jq-tmp",text:"data-jq-text",click:"data-jq-click",dblclick:"data-jq-dblclick",blur:"data-jq-blur",focus:"data-jq-focus",hover:"data-jq-hover",change:"data-jq-change",submit:"data-jq-submit",model:"data-jq-model",show:"data-jq-show",css:"data-jq-css",attr:"data-jq-attr",forOf:"data-jq-for",if:"data-jq-if",switch:"data-jq-switch",case:"data-jq-case",default:"data-jq-default"},a="data-server-rendered",i="data-forOf_",r="data-if_",o="data-case_",l="data-default_",c="_end",s="$root",u="$data",f="$index",p="in",h="out",m="SERVER-RENDERED",v="INIT",g={ONCE:"once"},y="_parent";function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}_=window._||{};var A,t=Array.isArray,E="function"==typeof window.Promise,P=/\((.*?)\)/,B=/\s+/g,C=/(.*?)\s+(?:in|of)\s+(.*)/,O=/\|/,D=function(e){return t?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},k=function(e){return null!==e&&"object"===b(e)&&"[object Object]"===Object.prototype.toString.call(e)},x=function(e){if(!k(e))return!1;var t=e.constructor;if("function"!=typeof t)return!1;var n=t.prototype;return!1!==k(n)&&!1!==n.hasOwnProperty("isPrototypeOf")},M=function(e){return!!k(e)&&0===Object.getOwnPropertyNames(e).length},j=function(e,t){return _.get(e,t)},S=function(e,t){var n=t.dataKey,i=t.parameters,a="!"===n.charAt(0);a&&(n=a?n.substring(1):n);var r=j(e,n);if("function"==typeof r){var o=I(e,n),l=t.elementData?t.elementData.viewModelProValue:null,c=(i=i?Q(e,i):[]).concat([l,t.el]);r=r.apply(o,c)}return r=a?!Boolean(r):r,r=R({value:r,viewModel:e,bindingCache:t})},R=function(e){var t=e.value,a=e.viewModel,n=e.bindingCache,r=t;return n.filters&&T(n.filters,function(e,t){var n=I(a,t),i=j.call(n,n,t);try{r=i.call(n,r)}catch(e){z(e,"Invalid filter: ".concat(t))}}),r},N=function(){var n={};return E?n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}):n=$.Deferred(),n},K=function t(){for(var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length?arguments[1]:void 0,i=arguments.length,a=new Array(2<i?i-2:0),r=2;r<i;r++)a[r-2]=arguments[r];if(!a.length)return n;var o=a.shift();return void 0===o?n:e?(V(n)&&V(o)&&Object.keys(o).forEach(function(e){V(o[e])?(n[e]||(n[e]={}),t(n[e],o[e])):n[e]=o[e]}),t.apply(void 0,[!0,n].concat(a))):Object.assign.apply(Object,[n].concat(a))},T=function(e,t){if("object"===b(e)&&"function"==typeof t){var n,i=[],a=0,r=D(e),o=0;if(r)a=e.length;else{if(!k(e))throw new TypeError("Object is not an array or object");a=(i=Object.keys(e)).length}for(o=0;o<a;o+=1)t(n,r?e[n=o]:e[n=i[o]])}},V=function(e){return k(e)&&!D(e)},q=function(e,t,n){var i=n&&n.nextSibling?n.nextSibling:null;return e.insertBefore(t,i)},I=function(e,t){var n=e;if("string"!=typeof t)return n;var i=t.split(".");return 1<i.length&&(i[0]===s?n=e[s]||e:i[0]===u&&(n=e[u]||e)),n},Q=function(t,e){if(t&&D(e))return e.map(function(e){return(e=e.trim())===f?e=t[f]:e===u?e=t[u]||t:e===s&&(e=t[s]||t),e})},z=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.message?e.message:t;return"function"==typeof console.error?console.error(n):console.log(n)},F=null,J=null,G=0,L={},H=function i(e,a,r,o){var t,n,l,c="string"==typeof e.dataKey?(t=e.dataKey,n=t.replace(/(\s*?{\s*?|\s*?,\s*?)(['"])?([a-zA-Z0-9]+)(['"])?:/g,'$1"$3":').replace(/'/g,'"'),JSON.parse(n)):e.dataKey,d=c.data,s=c.append,u=c.prepend;if(e.dataKey=c,d=void 0===d||"$root"===d?a:S(a,{dataKey:c.data,parameters:e.parameters})){var f=$(e.el),p=void 0!==a.$index?a.$index:f.attr("data-index");void 0!==p&&(d.$index=p),F=F||$("<div/>"),J=J||f;var h=function(e){var t,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return L[e]||(t=(n=document.getElementById(e))?n.innerHTML:"",L[e]=_.template(t,{variable:"data"})),L[e](i)}(c.id,d);F.children().length?(l=f,s||u||l.empty(),u?l.prepend(h):l.append(h)):(l=F).append(h);var m=l.find("["+r.tmp+"]");m.length&&(G+=m.length,m.each(function(e,t){var n={el:t,dataKey:t.getAttribute(r.tmp)};o[r.tmp].push(n),i(n,a,r,o),G-=1})),0===G&&(s||u||J.empty(),u?J.prepend(F.html()):J.append(F.html()),F=J=null,"function"==typeof a.afterTemplateRender&&a.afterTemplateRender(d))}},W=function(e,l,t,n){var c,i=e.dataKey,d=e.parameters,s=e.el.getAttribute(t.model),u="",f="",a=l.APP||l.$root.APP;if(i&&(n||a.$rootElement.contains(e.el))){var p=j(l,i);"function"==typeof p&&(c=I(l,i),d=d?Q(l,d):[],$(e.el).off("change.databind").on("change.databind",function(e){var t,n,i,a=$(this),r=a.is(":checkbox");u=r?a.prop("checked"):_.escape(a.val()),s&&(f=j(l,s),t=l,n=s,i=u,_.set(t,n,i));var o=[e,a,u,f].concat(d);p.apply(c,o),f=u}))}},Z=function(e){return"SVG"===e.tagName},U=function(e,t){return"SVG"===e.tagName||e.hasAttribute(t.comp)},X=function(e){var t,n=e.node,i=e.attrObj,a=e.bindingCache,r=e.type;if(A&&A[r]&&void 0!==i[r]){a[r]=a[r]||[];var o=function(e){if(e&&!(50<e.length)){var n=e.match(P);return n&&n[1]&&(n=n[1].split(",")).forEach(function(e,t){n[t]=e.trim()}),n}}((t=function(n){if(!n||!n.dataKey||50<n.dataKey.length)return n;var i,a=n.dataKey.split(O);return n.dataKey=a[0].trim(),1<a.length&&(a.shift(0),a.forEach(function(e,t){a[t]=e.trim(),a[t]===g.ONCE&&(n.isOnce=!0,i=t)}),0<=i&&a.splice(i,1),n.filters=a),n}(t={el:n,dataKey:i[r].trim()})).dataKey);o&&(t.parameters=o,t.dataKey=t.dataKey.replace(P,"").trim()),t[y]=a[r],a[r].push(t)}return a},Y=function(e){var n,t=e.rootNode,i=void 0===t?null:t,a=e.bindingAttrs,c=void 0===a?{}:a,d=e.skipCheck,r=e.isRenderedTemplate,s=void 0!==r&&r,u={};if(!i instanceof window.Node)throw new TypeError("walkDOM: Expected a DOM node");A=A||(n=c,Object.keys(n).reduce(function(e,t){return e[n[t]]=t,e},{}));var o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:U,n=!1;if(1!==t.nodeType||!t.hasAttributes())return!0;if(e(t,c)||"function"==typeof d&&d(t))return!1;var i,a,r=(i=t,a={},Array.prototype.slice.call(i.attributes).forEach(function(e){a[e.name]=e.value}),a),o=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;return[e.forOf,e.if,e.case,e.default].filter(function(e){return void 0!==t[e]})}(r,c),l=[];if(o.length)n=!0,l=o;else{if(s&&r[c.tmp])return!0;l=Object.keys(r)}return l.forEach(function(e){e!==c.case&&e!==c.default&&(u=X({node:t,attrObj:r,bindingCache:u,type:e}))}),!n};return o(i,Z)&&function e(t,n){for(t=t.firstElementChild;t;)n(t)&&e(t,n),t=t.nextElementSibling}(i,o),u},ee=function(e){var t=e.el.cloneNode(!0);return e.fragment=document.createDocumentFragment(),e.fragment.appendChild(t),e},te=function(e){if(e&&e.type){var t="",n=e.dataKey?e.dataKey.replace(B,"_"):"";switch(e.type){case d.forOf:t=i;break;case d.if:t=r;break;case d.case:t=o;break;case d.default:t=l}return e.commentPrefix=t+n,e}},n=function e(t,n){n.commentPrefix||te(n);var i=n.commentPrefix+c;if(t=t.nextSibling){if(8===t.nodeType&&t.textContent===i)return n.docRange.setEndBefore(t);e(t,n)}},ne=function(e,t){var n;e.commentPrefix||te(e),n=e.commentPrefix;var i=document.createComment(n),a=document.createComment(n+c);return 11===t.nodeType?(t.insertBefore(i,t.firstChild),t.appendChild(a)):t.parentNode&&(t.parentNode.insertBefore(i,t),q(t.parentNode,a,t),e.previousNonTemplateElement=t.previousSibling,e.nextNonTemplateElement=t.nextSibling,e.parentElement=t.previousSibling.parentElement),t},ie=function(e){e.docRange||(e.docRange=document.createRange());try{e.previousNonTemplateElement?(e.docRange.setStartBefore(e.previousNonTemplateElement.nextSibling),n(e.previousNonTemplateElement.nextSibling,e)):(e.docRange.setStartBefore(e.parentElement.firstChild),n(e.parentElement.firstChild,e))}catch(e){console.log("error removeElemnetsByCommentWrap: ",e.message)}return e.docRange.deleteContents()},ae=function(e,t){e.previousNonTemplateElement?q(e.parentElement,t,e.previousNonTemplateElement):e.nextNonTemplateElement?e.parentElement.insertBefore(t,e.nextNonTemplateElement):e.parentElement&&e.parentElement.appendChild(t)},re=function(e){var t=e.bindingData,n=e.viewModel,i=e.iterationData,a=e.keys,r=e.index,o={};return o[t.iterator.alias]=a?i[a[r]]:i[r],o[s]=n.$root||n,o[u]=o[t.iterator.alias],o[f]=r,o},oe=function(e,t,n,i,a){var r,o,l,c=document.createDocumentFragment(),d=e.iterationSize,s=0;for(D(e.iterationBindingCache)?e.iterationBindingCache.length=0:e.iterationBindingCache=[],s=0;s<d;s+=1)r=e.el.cloneNode(!0),l=Y({rootNode:r,bindingAttrs:n}),e.iterationBindingCache.push(l),M(l)||(o=re({bindingData:e,viewModel:t,iterationData:i,keys:a,index:s}),Be({elementCache:e.iterationBindingCache[s],iterationVm:o,bindingAttrs:n,isRegenerate:!0})),c.appendChild(r);return c},le=function(e,t,n){var i=e.dataKey;if(i&&!(50<i.length)){if(!e.iterator){if(50<i.length)return;e.dataKey=e.dataKey.replace(B," ");var a=i.match(C);if(!a)return;e.iterator={},e.iterator.alias=a[1].trim(),a[2]&&(e.iterator.dataKey=a[2].trim(),e.parentElement=e.el.parentElement,e.previousNonTemplateElement=e.el.previousSibling,e.nextNonTemplateElement=e.el.nextSibling)}!function(e){var i=e.bindingData,a=e.viewModel,r=e.bindingAttrs;if(i&&a&&r){var o,t,l=S(a,i.iterator),n=!1;if(D(l))t=l.length;else{if(!x(l))return z(null,"iterationData is not an plain object or array");t=(o=Object.keys(l)).length}if(i.type||(i.type=d.forOf,ne(i,i.el)),void 0===i.iterationSize?(i.iterationSize=t,i.el.removeAttribute(r.forOf),n=!0):(n=i.iterationSize!==t,i.iterationSize=t),n){var c=oe(i,a,r,l,o);return ie(i),ae(i,c)}i.iterationBindingCache.forEach(function(e,t){if(!M(e)){var n=re({bindingData:i,viewModel:a,iterationData:l,keys:o,index:t});Be({elementCache:e,iterationVm:n,bindingAttrs:r,isRegenerate:!1})}})}}({bindingData:e,viewModel:t,bindingAttrs:n})}},ce=function(e){var t=e.bindingData,n=e.viewModel,i=e.bindingAttrs;if(t.fragment){var a=function(e){var t=!1;if(e&&e.previousNonTemplateElement){var n=e.previousNonTemplateElement.textContent,i=e.previousNonTemplateElement.nextSibling;8===i.nodeType&&i.textContent===n+c&&(t=!0)}return t}(t),r=t.el;a||t.isOnce||(de(t),r=t.fragment.firstChild.cloneNode(!0)),t.iterationBindingCache&&t.hasIterationBindingCache||(t.iterationBindingCache=Y({rootNode:r,bindingAttrs:i})),M(t.iterationBindingCache)||(t.hasIterationBindingCache=!0,Be({elementCache:t.iterationBindingCache,iterationVm:n,bindingAttrs:i,isRegenerate:!0})),ae(t,r)}},de=function(e){ie(e),e.hasIterationBindingCache&&(delete e.iterationBindingCache,delete e.hasIterationBindingCache)},se=function(e){var t,n,i=e.viewModel,a=e.cache,r=!1;return i.APP.postProcessQueue&&(i.APP.postProcessQueue.push((n=(t=a)[y].indexOf(a),function(){t[y].splice(n,1)})),r=!0),r};function ue(e,n){e.forEach(function(e,t){t===n&&void 0!==n||(de(e),e.hasIterationBindingCache&&(e.iterationBindingCache=null,e.hasIterationBindingCache=!1))})}function fe(e,t){return{el:e,dataKey:e.getAttribute(t),type:t}}var pe={},he=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(t&&t.compId&&e&&"function"==typeof n){var a;e=e.replace(B,""),pe[e]=pe[e]||[],pe[e].some(function(e){if(e[t.compId])return e[t.compId]=n.bind(t.viewModel),e.isOnce=i,!0})||((a={})[t.compId]=n.bind(t.viewModel),a.isOnce=i,pe[e].push(a))}},me=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length?arguments[2]:void 0;he(e,t,n,!0)},ve=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(e&&t){var n=0,i=0;if(t=t.replace(B,""),pe[t])for(i=pe[t].length,n=0;n<i;n+=1)if(pe[t][n][e]){pe[t].splice(n,1);break}pe[t].length||delete pe[t]}},ge=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";t&&Object.keys(pe).forEach(function(e){ve(t,e)})},ye=function(){for(var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];i&&pe[i]&&(i=i.replace(B,""),pe[i].forEach(function(n){Object.keys(n).forEach(function(e){if("function"==typeof n[e]){var t=n[e].apply(n,a);return n.isOnce&&ve(e,i),t}})}))},be=Object.freeze({subscribeEvent:he,subscribeEventOnce:me,unsubscribeEvent:ve,unsubscribeAllEvent:ge,publishEvent:ye}),we=0,Ae=function(){function i(e,t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e instanceof window.jQuery&&e.length&&(e=e.eq(0)[0]),!e||1!==e.nodeType||null===t||"object"!==b(t))throw new TypeError("$rootElement or viewModel is invalid");return this.initRendered=!1,this.compId=we+=1,this.$rootElement=e,this.viewModel=t,this.bindingAttrs=n,this.render=function(e){var t,n,i,a,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t=e,n=r,i=N(),a=0,function(){var e=Array.from?Array.from(arguments):Array.prototype.slice.call(arguments);return window.cancelAnimationFrame(a),a=window.requestAnimationFrame(function(){try{t.apply(n,e),i.resolve(n)}catch(e){i.reject(n,e)}i=N(),window.cancelAnimationFrame(a)}),E?i.promise:i.promise()}}(this.render,this),this.isServerRendered=null!==this.$rootElement.getAttribute(a),(this.viewModel.APP=this).viewModel.$root=this.viewModel,this.parseView(),window.jQuery?window.jQuery(this.$rootElement).data(s,this.viewModel):this.$rootElement[s]=this.viewModel,this}var e,t,n;return e=i,n=[{key:"applyBinding",value:function(e){e.ctx;var t=e.elementCache,n=e.updateOption,i=e.bindingAttrs,a=e.viewModel;t&&n&&(n.forOfBinding&&t[i.forOf]&&t[i.forOf].length&&t[i.forOf].forEach(function(e){le(e,a,i,n.forceRender)}),n.attrBinding&&t[i.attr]&&t[i.attr].length&&t[i.attr].forEach(function(e){!function(n,e,t){if(n.dataKey){n.elementData=n.elementData||{},n.elementData.viewModelProValue=n.elementData.viewModelProValue||{};var i=n.elementData.viewModelProValue,a=S(e,n);x(a)&&JSON.stringify(i)!==JSON.stringify(a)&&(n.elementData.viewModelProValue={},M(i)?T(a,function(e,t){n.el.setAttribute(e,t),n.elementData.viewModelProValue[e]=t}):(T(i,function(e,t){void 0===a[e]&&n.el.removeAttribute(e)}),T(a,function(e,t){i[e]!==a[e]&&n.el.setAttribute(e,a[e]),n.elementData.viewModelProValue[e]=t})))}}(e,a,0,n.forceRender)}),n.ifBinding&&t[i.if]&&t[i.if].length&&t[i.if].forEach(function(e){!function(e,t,n){if(e.dataKey&&(!e.isOnce||!1!==e.hasIterationBindingCache)){e.elementData=e.elementData||{},e.type=e.type||d.if;var i=e.elementData.viewModelPropValue,a=S(t,e)||!1;if(i!==a||e.hasIterationBindingCache){var r,o=Boolean(a);if(!o&&e.isOnce&&e.el.parentNode)return(r=e.el)&&r.parentNode&&r.parentNode.removeChild(r),se({viewModel:t,cache:e});e.elementData.viewModelPropValue=a,e.fragment||(ne(e,e.el),e.el.removeAttribute(n.if),ee(e)),o?(ce({bindingData:e,viewModel:t,bindingAttrs:n}),e.isOnce&&!e.hasIterationBindingCache&&se({viewModel:t,cache:e})):de(e)}}}(e,a,i,n.forceRender)}),n.showBinding&&t[i.show]&&t[i.show].length&&t[i.show].forEach(function(e){!function(e,t,n){var i={},a="",r=!0;if(e.dataKey){e.elementData=e.elementData||{};var o=e.elementData.viewModelPropValue;if(void 0===e.elementData.displayStyle||void 0===e.elementData.computedStyle)if(a=(i=e.el.style).display)e.elementData.displayStyle="none"===a?"block":a,e.elementData.computedStyle=null;else{var l=window.getComputedStyle(e.el,null).getPropertyValue("display");e.elementData.displayStyle=null,e.elementData.computedStyle=l}r=S(t,e),o!==(r=Boolean(r))&&(r?e.elementData.computedStyle||"none"===e.el.style.display?"none"===e.elementData.computedStyle?e.el.style.setProperty("display","block"):1<i.length?e.el.style.removeProperty("display"):e.el.removeAttribute("style"):e.el.style.setProperty("display",e.elementData.displayStyle):"none"!==e.el.style.display&&e.el.style.setProperty("display","none"),e.elementData.viewModelPropValue=r)}}(e,a,0,n.forceRender)}),n.switchBinding&&t[i.switch]&&t[i.switch].length&&t[i.switch].forEach(function(e){!function(e,t,n){if(e.dataKey){e.elementData=e.elementData||{};var i=S(t,e);if(i!==e.elementData.viewModelPropValue){if(e.elementData.viewModelPropValue=i,!e.cases){var a=e.el.children;if(!a.length)return;e.cases=[];for(var r=0,o=a.length;r<o;r+=1){var l=null;a[r].hasAttribute(n.case)?l=fe(a[r],n.case):a[r].hasAttribute(n.default)&&((l=fe(a[r],n.default)).isDefault=!0),l&&(ne(l,l.el),l.isDefault?l.el.removeAttribute(n.default):l.el.removeAttribute(n.case),ee(l),e.cases.push(l))}}if(e.cases.length){for(var c=!1,d=0,s=e.cases.length;d<s;d+=1){var u=void 0;if(e.cases[d].dataKey&&(u=S(t,e.cases[d])||e.cases[d].dataKey),u===e.elementData.viewModelPropValue||e.cases[d].isDefault){c=!0,ce({bindingData:e.cases[d],viewModel:t,bindingAttrs:n}),ue(e.cases,d);break}}c||ue(e.cases)}}}}(e,a,i,n.forceRender)}),n.textBinding&&t[i.text]&&t[i.text].length&&t[i.text].forEach(function(e){!function(e,t,n,i){var a=e.dataKey,r=t.APP||t.$root.APP;if(a&&(i||r.$rootElement.contains(e.el))){var o=S(t,e),l=e.el.textContent;void 0!==o&&"object"!==b(o)&&null!==o&&o!==l&&(e.el.textContent=o)}}(e,a,0,n.forceRender)}),n.cssBinding&&t[i.css]&&t[i.css].length&&t[i.css].forEach(function(e){!function(e,t,n,i){var a=e.dataKey,r=t.APP||t.$root.APP;if(a&&(i||r.$rootElement.contains(e.el))){e.elementData=e.elementData||{},e.elementData.viewModelPropValue=e.elementData.viewModelPropValue||"";var o=e.elementData.viewModelPropValue,l="",c=S(t,e),d=[],s=!1,u=!1,f=[];if("string"==typeof c)u=!0;else{if(!x(c))return;s=!0}if(s?l=JSON.stringify(c):d=(l=c.replace(/\s\s+/g," ").trim()).split(" "),o!==l){for(var p,h=e.el.classList,m=h.length,v=0;v<m;v+=1)f.push(h[v]);s?T(c,function(e,t){var n=f.indexOf(e);!0===t?f.push(e):-1!==n&&f.splice(n,1)}):u&&(p=o,f=(f=f.filter(function(e,t){return p.indexOf(e)<0})).concat(d)),f=(f=f.filter(function(e,t,n){return n.indexOf(e)===t})).join(" "),e.elementData.viewModelPropValue=l,e.el.setAttribute("class",f)}}}(e,a,0,n.forceRender)}),n.modelBinding&&t[i.model]&&t[i.model].length&&t[i.model].forEach(function(e){!function(e,t,n,i){var a,r=e.dataKey,o=t.APP||t.$root.APP;if(r&&(i||o.$rootElement.contains(e.el))&&null!=(a=j(t,r))){var l=$(e.el),c=l.is(":checkbox"),d=l.is(":radio"),s=l[0].name,u=d?$('input[name="'+s+'"]'):null;a!==(c?l.prop("checked"):l.val())&&(c?l.prop("checked",Boolean(a)):d?u.val([a]):l.val(a))}}(e,a,0,n.forceRender)}),n.changeBinding&&t[i.change]&&t[i.change].length&&t[i.change].forEach(function(e){W(e,a,i,n.forceRender)}),n.submitBinding&&t[i.submit]&&t[i.submit].length&&t[i.submit].forEach(function(e){!function(e,t,n,i){var r,a=e.dataKey,o=e.parameters,l=t.APP||t.$root.APP;if(a&&(i||l.$rootElement.contains(e.el))){var c=j(t,a),d=$(e.el);"function"==typeof c&&(r=I(t,a),o=o?Q(t,o):[],d.off("submit.databind").on("submit.databind",function(e){var t,n,i,a=[e,d,(t=d,n=t.serializeArray(),i={},n.map(function(e){i[e.name]=e.value}),i)].concat(o);c.apply(r,a)}))}}(e,a,0,n.forceRender)}),n.clickBinding&&t[i.click]&&t[i.click].length&&t[i.click].forEach(function(e){!function(e,t,n,i){var a,r=e.dataKey,o=e.parameters,l=t.APP||t.$root.APP;if(r&&(i||l.$rootElement.contains(e.el))){var c=j(t,r);"function"==typeof c&&(a=I(t,r),o=o?Q(t,o):[],$(e.el).off("click.databind").on("click.databind",function(e){var t=[e,$(this)].concat(o);c.apply(a,t)}))}}(e,a,0,n.forceRender)}),n.dblclickBinding&&t[i.dblclick]&&t[i.dblclick].length&&t[i.dblclick].forEach(function(e){!function(e,t,n,i){var a,r=e.dataKey,o=e.parameters,l=t.APP||t.$root.APP;if(r&&(i||l.$rootElement.contains(e.el))){var c=j(t,r);"function"==typeof c&&(a=I(t,r),o=o?Q(t,o):[],$(e.el).off("dblclick.databind").on("dblclick.databind",function(e){var t=[e,$(this)].concat(o);c.apply(a,t)}))}}(e,a,0,n.forceRender)}),n.blurBinding&&t[i.blur]&&t[i.blur].length&&t[i.blur].forEach(function(e){!function(e,t,n,i){var a,r=e.dataKey,o=e.parameters,l=t.APP||t.$root.APP;if(r&&(i||l.$rootElement.contains(e.el))){var c=j(t,r);"function"==typeof c&&(a=I(t,r),o=o?Q(t,o):[],$(e.el).off("blur.databind").on("blur.databind",function(e){var t=[e,$(this)].concat(o);c.apply(a,t)}))}}(e,a,0,n.forceRender)}),n.focusBinding&&t[i.focus]&&t[i.focus].length&&t[i.focus].forEach(function(e){!function(e,t,n,i){var a,r=e.dataKey,o=e.parameters,l=t.APP||t.$root.APP;if(r&&(i||l.$rootElement.contains(e.el))){var c=j(t,r);"function"==typeof c&&(a=I(t,r),o=o?Q(t,o):[],$(e.el).off("focus.databind").on("focus.databind",function(e){var t=[e,$(this)].concat(o);c.apply(a,t)}))}}(e,a,0,n.forceRender)}),n.hoverBinding&&t[i.hover]&&t[i.hover].length&&t[i.hover].forEach(function(e){!function(n,e,t,i){var a,r=n.dataKey,o=n.parameters,l=p,c=h,d=e.APP||e.$root.APP;if(n.elementData=n.elementData||{},r&&(i||d.$rootElement.contains(n.el))){var s=j(e,r);s&&"function"==typeof s[l]&&"function"==typeof s[c]&&(a=I(e,r),o=o?Q(e,o):[],$(n.el).off("mouseenter.databind mouseleave.databind").hover(function(e){var t=[e,n.el].concat(o);s[l].apply(a,t)},function(e){var t=[e,n.el].concat(o);s[c].apply(a,t)}))}}(e,a,0,n.forceRender)}))}},{key:"postProcess",value:function(e){e&&e.length&&T(e,function(e,t){if("function"==typeof t)try{t()}catch(e){z(e,"Error postProcess: "+String(t))}})}}],(t=[{key:"parseView",value:function(){return this.elementCache=Y({rootNode:this.$rootElement,bindingAttrs:this.bindingAttrs}),this.isServerRendered&&!this.initRendered&&this.updateElementCache({templateCache:!0}),this}},{key:"updateElementCache",value:function(){var n=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=i.elementCache||this.elementCache;i.allCache&&(this.elementCache=Y({rootNode:this.$rootElement,bindingAttrs:this.bindingAttrs})),(i.allCache||i.templateCache)&&e[this.bindingAttrs.tmp]&&e[this.bindingAttrs.tmp].length&&e[this.bindingAttrs.tmp].forEach(function(e){var t=null;e.el.hasAttribute(n.bindingAttrs.forOf)&&(t=function(){return!0}),e.bindingCache=Y({rootNode:e.el,bindingAttrs:n.bindingAttrs,skipCheck:t,isRenderedTemplate:i.isRenderedTemplates})})}},{key:"render",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};t=this.initRendered?Pe("",e):this.isServerRendered?(this.$rootElement.removeAttribute(a),Pe(m,e)):Pe(v,e),this.postProcessQueue=[],Ee({ctx:this,elementCache:this.elementCache,updateOption:t,bindingAttrs:this.bindingAttrs,viewModel:this.viewModel}),i.applyBinding({ctx:this,elementCache:this.elementCache,updateOption:t,bindingAttrs:this.bindingAttrs,viewModel:this.viewModel}),i.postProcess(this.postProcessQueue),this.postProcessQueue.length=0,delete this.postProcessQueue,this.initRendered=!0}},{key:"subscribe",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;return he(this,e,t),this}},{key:"subscribeOnce",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;return me(this,e,t),this}},{key:"unsubscribe",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return ve(this.compId,e),this}},{key:"unsubscribeAll",value:function(){return ge(this.compId),this}},{key:"publish",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ye.apply(be,[e].concat(n)),this}}])&&w(e.prototype,t),n&&w(e,n),i}(),Ee=function(e){var t=e.ctx,n=e.elementCache,i=e.updateOption,a=e.bindingAttrs,r=e.viewModel;return!(!n||!a)&&(n[a.tmp]&&n[a.tmp].length&&(i.templateBinding&&(i=Pe(v),n[a.tmp].forEach(function(e){H(e,r,a,n)}),t.updateElementCache({templateCache:!0,elementCache:n,isRenderedTemplates:!0})),i.forceRender=!0,n[a.tmp].forEach(function(e){Ae.applyBinding({elementCache:e.bindingCache,updateOption:i,bindingAttrs:a,viewModel:r})})),!0)},Pe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={templateBinding:!1,textBinding:!0,cssBinding:!0,ifBinding:!0,showBinding:!0,modelBinding:!0,attrBinding:!0,forOfBinding:!0,switchBinding:!0},i={changeBinding:!0,clickBinding:!0,dblclickBinding:!0,blurBinding:!0,focusBinding:!0,hoverBinding:!0,submitBinding:!0},a={};switch(e){case m:a=K({},i,{templateBinding:!1,textBinding:!1,cssBinding:!1,ifBinding:!1,showBinding:!1,modelBinding:!1,attrBinding:!1,forOfBinding:!1,switchBinding:!1},t);break;case v:t.templateBinding=!0,a=K({},n,i,t);break;default:a=K({},n,t)}return a},Be=function(e){var t=e.elementCache,n=e.iterationVm,i=e.bindingAttrs,a=e.isRegenerate?Pe(v):Pe();a.forceRender=!0,Ee({ctx:n.$root?n.$root.APP:n.APP,elementCache:t,updateOption:a,bindingAttrs:i,viewModel:n}),Ae.applyBinding({elementCache:t,updateOption:a,bindingAttrs:i,viewModel:n})},Ce=d,Oe={evaluate:/<%([\s\S]+?)%>/g,interpolate:/\{\{=(.+?)\}\}/g,escape:/\{\{(.+?)\}\}/g};window.dataBind={use:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.bindingAttrs&&(Ce=$.extend({},e.bindingAttrs)),e.templateSettings&&(Oe=$.extend({},e.templateSettings))},init:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return _.templateSettings=Oe,new Ae(e,t,Ce)},version:"@version@"}}();
//# sourceMappingURL=dataBind.min.js.map
