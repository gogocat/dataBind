<!doctype html>
<html lang="en" data-framework="dataBind">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>dataBind Demo | data-jq-for-of</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap/css/open-iconic.css">
</head>

<body>

    <div class="container">
        <h5>For of binding</h5>
        <div data-jq-comp="forOfComponent">
            <h2>Before for-of</h2>
            <div class="form-row" data-jq-for="item of personalDetails" data-jq-show="item.show" data-jq-tmp="{id:'formItems', data: 'personalDetails'}">
            </div>
            <h2>after for-of</h2>
            <div>
                <button data-jq-click="addRows">Add 2 row</button>
                <button data-jq-click="removeRows">Remove last 2 row</button>
            </div>
        </div>

        <div class="container search-result" data-jq-comp="search-results-component">
            <h4 id="searchResultTitle" class="text-center section-title" data-jq-text="searchResultTitle"></h4>

            <div id="search-result-columns" class="card-columns" data-jq-tmp="{id: 'searchResultItem', data: '$root', append: true}">
            </div>
        </div>

    </div>

    <!-- searchResultItem test with deep nested templates -->
    <template id="searchResultItem">
        <div class="card result-item" data-jq-for="result in searchResults" data-jq-css="result.highlightCss">
            <img class="card-img-top result-item__img" data-jq-attr="$root.getResultItemAttr($index)">
            <div class="card-body" data-jq-tmp="{id: 'searchResultItemBody', data: 'result'}"></div>
            <div data-jq-tmp="{id: 'searchResultItemFooter', data: 'result'}"></div>
        </div>
    </template>

    <template id="searchResultItemBody">
        <h4 class="card-title">{{data.title}}</h4>
        <p class="card-text">{{data.description}}</p>
    </template>

    <template id="searchResultItemFooter">
        <div class="card-footer result-item__footer">
            <div class="result-item__icon-checkbox-wrap">
                <input class="result-item__icon result-item__icon-checkbox" type="checkbox" id="{{data.id}}" name="{{data.id}}" data-jq-model="searchResults[{{data.$index}}].selected"
                    data-jq-change="$root.onAdMessageCheck">
                <label for="{{data.id}}" class="oi result-item__icon-checkbox-label" data-glyph="task" aria-label="Message this seller"></label>
            </div>
            <span data-jq-tmp="{id: 'searchResultItemBookMark', data: 'result'}"></span>
        </div>
    </template>

    <template id="searchResultItemBookMark">
        <span class="oi result-item__icon" data-glyph="bookmark" data-jq-css="result.bookmarkedCss" data-jq-click="$root.onAdBookmarkClick($index)"></span>
        <span class="oi result-item__icon" data-glyph="thumb-up">{{data.numLikes}}</span>
    </template>

    <!-- form example templates -->
    <template id="formItems">
        <div class="col-8">
            <label for="name" data-jq-css="item.updatedCss" data-jq-text="item.label"></label>
            <input data-jq-attr="$root.getInputIdName($index)" type="text" class="form-control" value="" data-jq-model="item.value" data-jq-change="$root.onInputChange($index)"
                required>
        </div>
    </template>

    <script src="../vendors/lodash.custom.min.js"></script>
    <script src="../vendors/jquery-3.2.1.min.js"></script>
    <script src="../dist/js/dataBind.js"></script>
    <script src="js/forOfDemo.js"></script>
</body>

</html>